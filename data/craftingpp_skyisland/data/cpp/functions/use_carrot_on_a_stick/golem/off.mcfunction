execute as @s[nbt={Inventory:[{Slot:-106b,tag:{id:"cpp:golem_miner"}}]}] run summon zombie_pigman ~ ~ ~ {IsBaby:1b,Invulnerable:1b,NoAI:1b,Tags:["cpp_golem","cpp_golem_miner"],DeathLootTable:"cpp:golem/golem_miner",PersistenceRequired:1b,ArmorDropChances:[-1.0f,-1.0f,-1.0f,-1.0f],Silent:1b,HandItems:[{Count:1b,id:"minecraft:diamond_pickaxe"},{}]}
execute as @s[nbt={Inventory:[{Slot:-106b,tag:{id:"cpp:golem_farmer"}}]}] run summon zombie_pigman ~ ~ ~ {IsBaby:1b,Invulnerable:1b,NoAI:1b,Tags:["cpp_golem","cpp_golem_farmer"],DeathLootTable:"cpp:golem/golem_farmer",PersistenceRequired:1b,ArmorDropChances:[-1.0f,-1.0f,-1.0f,-1.0f],Silent:1b,HandItems:[{Count:1b,id:"minecraft:diamond_hoe"},{}]}
execute as @s[nbt={Inventory:[{Slot:-106b,tag:{id:"cpp:golem_fisher"}}]}] run summon zombie_pigman ~ ~ ~ {IsBaby:1b,Invulnerable:1b,NoAI:1b,Tags:["cpp_golem","cpp_golem_fisher"],DeathLootTable:"cpp:golem/golem_fisher",PersistenceRequired:1b,ArmorDropChances:[-1.0f,-1.0f,-1.0f,-1.0f],Silent:1b,HandItems:[{Count:1b,id:"minecraft:fishing_rod"},{}]}
execute as @s[nbt={Inventory:[{Slot:-106b,tag:{id:"cpp:golem_warrior"}}]}] run summon zombie_pigman ~ ~ ~ {IsBaby:1b,Invulnerable:1b,NoAI:1b,Tags:["cpp_golem","cpp_golem_warrior"],DeathLootTable:"cpp:golem/golem_warrior",PersistenceRequired:1b,ArmorDropChances:[-1.0f,-1.0f,-1.0f,-1.0f],Silent:1b,HandItems:[{Count:1b,id:"minecraft:diamond_sword"},{}]}
execute as @s[nbt={Inventory:[{Slot:-106b,tag:{id:"cpp:golem_herder"}}]}] run summon zombie_pigman ~ ~ ~ {IsBaby:1b,Invulnerable:1b,NoAI:1b,Tags:["cpp_golem","cpp_golem_herder"],DeathLootTable:"cpp:golem/golem_herder",PersistenceRequired:1b,ArmorDropChances:[-1.0f,-1.0f,-1.0f,-1.0f],Silent:1b,HandItems:[{Count:1b,id:"minecraft:lead"},{}]}

data modify entity @e[tag=cpp_golem,sort=nearest,limit=1,distance=..0.1] HandItems[0] set from entity @s Inventory:[{Slot:-106b}].tag.StoredTool
replaceitem entity @s[gamemode=!creative] weapon.offhand air
